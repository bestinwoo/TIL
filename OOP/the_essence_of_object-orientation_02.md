# 이상한 나라의 객체

객체란 식별 가능한 개체 또는 사물이다. 객체는 자동차처럼 만질 수 있는 구체적인 사물일 수도 있고, 시간처럼 추상적인 개념일 수도 있다. 객체는 **구별 가능한 식별자, 특징적인 행동, 변경 가능한 상태**를 가진다. 소프트웨어 안에서 객체는 저장된 상태와 실행 가능한 코드를 통해 구현된다.

### 상태

**왜 상태가 필요한가**

객체가 주변 환경과의 상호작용에 어떻게 반응하는가는 그 시점까지 객체에 어떤 일이 발생했느냐에 좌우된다.

상태를 이용하면 과거의 얽매이지 않고 현재를 기반으로 객체의 행동 방식을 이해할 수 있다.

**상태와 프로퍼티**

숫자, 문자열, 시간, 참/거짓과 같은 단순한 값들은 객체가 아니다. 단순한 값들은 다른 객체의 상태를 표현하기 위해 사용된다. 때로는 객체를 사용해 다른 객체의 상태를 표현해야 할 때가 있다. 

결론적으로 모든 객체의 상태는 단순한 값과 객체의 조합으로 표현할 수 있다. 이 때 객체의 상태를 구성하는 모든 특징을 통틀어 **프로퍼티(property)**라고 한다.

일반적으로 프로퍼티는 변경되지 않고 고정되기 때문에 ‘정적’이다. 반면 프로퍼티 값은 시간이 흐름에 따라 변경되므로 ‘동적’이다. 

객체와 객체 사이의 의미 있는 연결을 **링크**라고 한다. 객체와 객체 사이에는 링크가 존재해야만 메시지를 주고받을 수 있다. 객체 간의 선으로 표현되는 링크와 달리 객체를 구성하는 단순한 값은 속성(attribute)이라고 한다. 객체의 프로퍼티는 단순한 값인 속성과 다른 객체를 가리키는 링크라는 두 가지 종류의 조합으로 표현할 수 있다.

### 행동

행동이란 외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동이다. 행동의 결과로 객체는 자신의 상태를 변경하거나 다른 객체에게 메시지를 전달할 수 있다. 객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동은 외부에 가시적이어야 한다.

### 행동이 상태를 결정한다

상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼친다.

1. 상태가 공용 인터페이스에 노출될 확률이 높아져 캡슐화가 저해된다.
2. 협력에서 멀리 벗어난 채 객체를 설계하게 함으로써 협력에 적합하지 못한 객체가 된다.
3. 협력에 참여하기 어렵기 때문에 객체의 재사용성이 저하된다.

협력 안에서 객체의 행동은 결국 객체가 협력에 참여하면서 완수해야 하는 책임을 의미한다. 따라서 어떤 책임이 필요한가를 결정하는 과정이 전체 설계를 주도해야 한다. 이 것을 **책임-주도 설계(RDD)**라고 한다.
