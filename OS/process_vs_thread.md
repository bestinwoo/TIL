**프로세스** : 운영체제로부터 자원을 할당받는 작업의 단위

프로세스는 실행될 때 운영체제로부터 프로세서, 필요한 주소 공간, 메모리 등 자원을 할당받는다.

**스레드** : 프로세스가 할당받은 자원을 이용하는 실행의 단위

스레드는 한 프로세스 내에서 동작되는 여러 실행의 흐름으로 프로세스 내의 주소 공간이나 자원들을 같은 프로세스 내에 스레드끼리 공유하면서 실행된다.

그렇다면 왜 멀티 프로세스로 할 수 있는 작업을 멀티 스레드로 하는가?

멀티 프로세스로 실행되는 작업을 멀티 스레드로 실행할 경우 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 자원을 효율적으로 관리할 수 있다. 또한 프로세스 간의 통신보다 스레드 간의 통신의 비용이 적으므로 통신의 부담이 줄어든다.

이처럼 스레드를 활용하면 자원의 효율성이 증가하기도 하지만 스레드 간의 자원 공유는 전역 변수를 이용하므로 동기화 문제에 신경써야 한다.

프로세스가 할당받는 메모리 영역의 모습

![process_memory](https://user-images.githubusercontent.com/33615669/201532810-577a4e45-6e0a-4e40-80c8-5bde359ebed4.png)

운영체제는 프로세스마다 독립된 메모리 영역을 Code/Data/Stack/Heap의 형식으로 할당해준다. 각각 독립된 메모리 영역을 할당하기 때문에 프로세스는 다른 프로세스의 변수나 자료에 접근할 수 없다.

이와 다르게 스레드는 메모리를 서로 공유할 수 있다. 프로세스가 할당받은 메모리 영역 내에서 Stack 형식으로 할당받은 메모리 영역은 따로 할당받고, 나머지 Code/Data/Heap 메모리 영역을 공유한다.

따라서 각 스레드는 별도의 스택을 갖고 있지만 힙 메모리는 서로 읽고 쓸 수 있게 된다.

![thread_memory](https://user-images.githubusercontent.com/33615669/201532824-c2456a1e-7fa8-4b93-be5b-e95b70bc0af4.png)

하나의 프로세스에서 오류가 발생해서 프로세스가 종료되어도 다른 프로세스에게는 영향을 미치지 않지만, 스레드의 경우 하나의 스레드가 오류가 발생한다면 같은 프로세스 내의 다른 스레드 모두가 강제로 종료된다.



https://velog.io/@raejoonee/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9D%98-%EC%B0%A8%EC%9D%B4
